/*!
  (c) 2015, Towry Wang (@tovvry)
  MIT License
*/
!function(t){"use strict";function e(t,e){for(var n in e)t.style[n]=e[n]}function n(t,n){var i=o(t),l=s(t),r=6,a=7;e(n,{left:i.left+l.width/2+"px",top:i.top+l.height+a+r+"px",visibility:"visible",opacity:1})}function i(t,n){var i=o(t),l=s(n),r=s(t),a=3,c=7;e(n,{left:i.left+r.width/2+"px",top:i.top-l.height-c-a+"px",visibility:"visible",opacity:1})}function o(t){return{top:l(t),left:r(t)}}function l(e){var n=e.getBoundingClientRect().top+t.scrollY;return isNaN(n)&&(n=e.getBoundingClientRect().top+t.pageYOffset),n}function r(e){var n=e.getBoundingClientRect().left+t.scrollX;return isNaN(n)&&(n=e.getBoundingClientRect().left+t.pageXOffset),n}function s(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height}}function a(t,e){var n=t.className;""!==n&&(e=" "===e[0]?e:" "+e),t.className=n+e}function c(t,e){for(var n=t.className.replace(/^\s+|\s+$/g,"").split(/\s+/),i=e.replace(/^\s+|\s+$/g,""),o=0;o<n.length;o++)if(i===n[o]){n.splice(o,1);break}t.className=n.join(" ")}function p(t){var e=document.createElement("div");return e.innerHTML=t,/^\s*$/.test(t)?"":1===e.childNodes[0].nodeType?t:"<span>"+t+"</span>"}angular.module("yt.tooltip",[]).directive("ytTooltip",["$window","$compile",function(t,o){var l,r={klass:"yt--tooltip",contentKlass:"tooltip-content"},s=t.document.body,u=s.querySelector("."+r.klass);return u?l=function(){var t=u.querySelector("."+r.contentKlass);return function(e,n){n?t.innerHTML=e:"textContent"in t?t.textContent=e:t.innerText=e}}():(u=t.document.createElement("div"),a(u,r.klass),l=function(){var e=t.document.createElement("div");return u.appendChild(e),a(e,r.contentKlass),function(t,n){n?e.innerHTML=t:"textContent"in e?e.textContent=t:e.innerText=t}}(),s.appendChild(u)),e(u,{display:"none"}),{replace:!1,restrict:"AE",scope:!0,link:function(t,r,s){function d(t){t.stopPropagation(),l(m||y&&y.innerHTML,!m&&y),e(u,{display:"block",visibility:"hidden",opacity:0}),v?(a(u,"bottom"),n(g,u)):i(g,u)}function f(t){t.stopPropagation(),e(u,{display:"none",visibility:"hidden",opacity:0}),v&&c(u,"bottom")}var v=s.tooltipSide&&"bottom"===s.tooltipSide,g=r[0],m=s.tooltipText,y=p(s.tooltipHtml);y&&(y=o(y)(t.$parent||t)),y.length&&(y=y[0]),g.addEventListener("mouseenter",d,!1),g.addEventListener("mouseleave",f,!1),t.$on("$destory",function(){g.removeEventListener("mouseenter",d),g.removeEventListener("mouseleave",f)})}}}])}(window);