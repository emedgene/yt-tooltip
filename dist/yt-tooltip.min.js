/*!
  (c) 2015, Towry Wang (@tovvry)
  MIT License
*/
!function(t){"use strict";function e(t,e){for(var n in e)t.style[n]=e[n]}function n(t,n){var i=o(t),r=s(t),l=6,a=7;e(n,{left:i.left+r.width/2+"px",top:i.top+r.height+a+l+"px",visibility:"visible",opacity:1})}function i(t,n){var i=o(t),r=s(n),l=s(t),a=3,c=7;e(n,{left:i.left+l.width/2+"px",top:i.top-r.height-c-a+"px",visibility:"visible",opacity:1})}function o(t){return{top:r(t),left:l(t)}}function r(e){var n=e.getBoundingClientRect().top+t.scrollY;return isNaN(n)&&(n=e.getBoundingClientRect().top+t.pageYOffset),n}function l(e){var n=e.getBoundingClientRect().left+t.scrollX;return isNaN(n)&&(n=e.getBoundingClientRect().left+t.pageXOffset),n}function s(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height}}function a(t,e){var n=t.className;""!==n&&(e=" "===e[0]?e:" "+e),t.className=n+e}function c(t,e){for(var n=t.className.replace(/^\s+|\s+$/g,"").split(/\s+/),i=e.replace(/^\s+|\s+$/g,""),o=0;o<n.length;o++)if(i===n[o]){n.splice(o,1);break}t.className=n.join(" ")}function p(t){var e=document.createElement("div");return e.innerHTML=t,/^\s*$/.test(t)?"":1===e.childNodes[0].nodeType?t:"<span>"+t+"</span>"}angular.module("yt.tooltip",[]).directive("ytTooltip",["$parse","$window","$compile",function(t,o,r){var l,s={klass:"yt--tooltip",contentKlass:"tooltip-content"},u=o.document.body,d=u.querySelector("."+s.klass);return d?l=function(){var t=d.querySelector("."+s.contentKlass);return function(e,n){n?t.innerHTML=e:"textContent"in t?t.textContent=e:t.innerText=e}}():(d=o.document.createElement("div"),a(d,s.klass),l=function(){var t=o.document.createElement("div");return d.appendChild(t),a(t,s.contentKlass),function(e,n){n?t.innerHTML=e:"textContent"in t?t.textContent=e:t.innerText=e}}(),u.appendChild(d)),e(d,{display:"none"}),{replace:!1,restrict:"AE",scope:!0,link:function(o,s,u){function f(t){t.stopPropagation(),l(y||h&&h.innerHTML,!y&&h),e(d,{display:"block",visibility:"hidden",opacity:0}),g?(a(d,"bottom"),n(m,d)):i(m,d)}function v(t){t.stopPropagation(),e(d,{display:"none",visibility:"hidden",opacity:0}),g&&c(d,"bottom")}var g=u.tooltipSide&&"bottom"===u.tooltipSide,m=s[0],y=t(u.tooltipText)(o.$parent||o),h=p(u.tooltipHtml);h&&(h=r(h)(o.$parent||o)),h.length&&(h=h[0]),m.addEventListener("mouseenter",f,!1),m.addEventListener("mouseleave",v,!1),o.$on("$destory",function(){m.removeEventListener("mouseenter",f),m.removeEventListener("mouseleave",v)})}}}])}(window);