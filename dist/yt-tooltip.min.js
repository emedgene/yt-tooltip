/*!
  (c) 2015, Towry Wang (@tovvry)
  MIT License
*/
!function(t){"use strict";function e(t){return{top:n(t),left:i(t)}}function n(e){var n=e.getBoundingClientRect().top+t.scrollY;return isNaN(n)&&(n=e.getBoundingClientRect().top+t.pageYOffset),n}function i(e){var n=e.getBoundingClientRect().left+t.scrollX;return isNaN(n)&&(n=e.getBoundingClientRect().left+t.pageXOffset),n}function o(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height}}function r(t,e){t.className=e}function l(t){var e=document.createElement("div");return e.innerHTML=t,/^\s*$/.test(t)?"":1===e.childNodes[0].nodeType?t:"<span>"+t+"</span>"}angular.module("yt.tooltip",[]).directive("ytTooltip",["$parse","$window","$compile",function(t,n,i){var a,c={klass:"yt--tooltip",contentKlass:"tooltip-content"},s=n.document.body,u=s.querySelector("."+c.klass);u?a=function(){var t=u.querySelector("."+c.contentKlass);return function(e,n){n?t.innerHTML=e:"textContent"in t?t.textContent=e:t.innerText=e}}():(u=n.document.createElement("div"),r(u,c.klass),a=function(){var t=n.document.createElement("div");return u.appendChild(t),r(t,c.contentKlass),function(e,n){n?t.innerHTML=e:"textContent"in t?t.textContent=e:t.innerText=e}}(),s.appendChild(u));var d=function(t){for(var e in t)u.style[e]=t[e]};return d({display:"none"}),{replace:!1,restrict:"AE",scope:!0,link:function(n,r,c){function s(t){t.stopPropagation(),a(v||g&&g.innerHTML,!v&&g),d({display:"block",visibility:"hidden",opacity:0});var n=e(f),i=o(u),r=o(f),l=6,c=0;d({left:n.left+r.width/2+"px",top:n.top-i.height-l-c+"px",visibility:"visible",opacity:1})}function p(t){t.stopPropagation(),d({display:"none",visibility:"hidden",opacity:0})}var f=r[0],v=t(c.tooltipText)(n.$parent||n),g=l(c.tooltipHtml);g&&(g=i(g)(n.$parent||n)),g.length&&(g=g[0]),f.addEventListener("mouseenter",s,!1),f.addEventListener("mouseleave",p,!1),n.$on("$destory",function(){f.removeEventListener("mouseenter",s),f.removeEventListener("mouseleave",p)})}}}])}(window);